<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Hey! Welcome</title>
    <style>
    body {
  margin: 50px;
  font-family: sans-serif;
  display: flex;
  flex-direction: column;
  gap: 100px; 
  background: #393a3b;
  background-image: url('meimg.jpg'); 
  background-size: cover; 
  background-repeat: no-repeat; 
  background-position: center; 
  background-attachment: fixed;
}
h1 {
  font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
  color: red;
  font-size: 18px;
  -webkit-text-stroke: 0.5px #f5f5f5; 
  font-weight: normal; 
}
a,
a:visited,
a:hover,
a:active {
  text-decoration: none;
  color: inherit;
}
.textbox {
  position: relative;
  width: 500px;                
  padding: 30px 30px 30px 180px; 
  border: 1px solid #ccc;
  border-radius: 12px;
  background: #525354;
  font-size: 18px;               
  min-height: 180px;             
}
.anim-canvas {
  position: absolute;
  top: 30px;  
  left: 30px;  
  width: 125px;
  height: 125px;
  border: 1px solid #999;
  border-radius: 8px;
  background: #eee;  
}
</style>
</head>
<body>
<h1> Hi! Anikthedev here ill post my stuff here!</h1>
<h2>plus, if you wanna play minecraft with me dm on discord at anik039155</h2>
<a href="minis.html">
  <div class="textbox">
   <canvas class="anim-canvas" id="menu" width="125" height="125"></canvas>
   My Collections of mini MC animations go check it out!!</div>
  </a>
   <a href="wtf.html">
  <div class="textbox">
   ................!/...wtf.</div>
  </a>
<a href="hire!.html">
  <div class="textbox">
   <canvas class="anim-canvas" id="hire!" width="125" height="125"></canvas>
   Hire me to make you minecraft server on google cloud shell! more details after you click me!</div>
  </a>
  <a href="thoughts.html">
  <div class="textbox">
   <canvas class="anim-canvas" id="" width="125" height="125"></canvas>
   you wont understand man its to deep........</div>
  </a>
  <script>
class Animation {
  constructor(canvasId, xmlFile, fps = 40) {
    this.canvas = document.getElementById(canvasId);
    this.ctx = this.canvas.getContext('2d');
    this.frames = [];
    this.frame = 0;
    this.fps = fps;
    this.frameDuration = 1000 / fps;
    this.lastTime = 0;
    this.img = new Image();
    this.loadXML(xmlFile);
  }

  loadXML(xmlFile) {
    fetch(xmlFile)
      .then(res => res.text())
      .then(str => (new DOMParser()).parseFromString(str, "text/xml"))
      .then(xml => {
        const subTextures = xml.getElementsByTagName('SubTexture');
        for (let i = 0; i < subTextures.length; i++) {
          const t = subTextures[i];
          this.frames.push({
            x: parseInt(t.getAttribute('x')),
            y: parseInt(t.getAttribute('y')),
            w: parseInt(t.getAttribute('width')),
            h: parseInt(t.getAttribute('height'))
          });
        }
        this.img.src = xml.documentElement.getAttribute('imagePath');
        this.img.onload = () => requestAnimationFrame(this.loop.bind(this));
      })
      .catch(err => console.error("Failed to load XML:", xmlFile, err));
  }

  loop(timestamp) {
    if (!this.lastTime) this.lastTime = timestamp;
    const delta = timestamp - this.lastTime;

    if (delta >= this.frameDuration) {
      this.frame = (this.frame + 1) % this.frames.length;
      this.lastTime = timestamp;
    }

    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

    const f = this.frames[this.frame];
    if (f) {
      const scale = Math.min(this.canvas.width / f.w, this.canvas.height / f.h);
      const dw = f.w * scale;
      const dh = f.h * scale;
      const dx = (this.canvas.width - dw) / 2;
      const dy = (this.canvas.height - dh) / 2;
      this.ctx.drawImage(this.img, f.x, f.y, f.w, f.h, dx, dy, dw, dh);
    }

    requestAnimationFrame(this.loop.bind(this));
  }
}


new Animation('menu', 'menu.xml');
new Animation('hire!', 'hire!.xml');
</script>
</body>
</html>